@using DhruvEnterprises.Web.Code.LIBS
@using DhruvEnterprises.Dto;
@using DhruvEnterprises.Web.Models.Others;
@model List<DhruvEnterprises.Dto.Itemdto>
@{
    ViewBag.Title = "ViewCart";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
    #ContentPlaceHolder1_up{
        padding-top:100px;
    }
    .body-content.outer-top-xs {
        padding-bottom: 30px;
    }

    .blog-post table table button {
        background: #777777;
        border: 0;
        color: #fff;
        padding: 6px 10px;
        border-radius: 7px;
    }

    .div3 a {
        color: #2d3b97;
        font-size: 17px;
        font-weight: 500;
    }

    .blog-post .row {
        border: 1px solid #2d3b97;
        margin-bottom: 10px;
        background: #fdffff;
    }

        .blog-post .row:last-child {
            border: 0;
            margin-bottom: 0;
            background: inherit;
        }

    .overlay-out-of-stock {
        position: absolute;
        left: 0;
        right: 0;
        background: #b8b9c187;
        z-index: 1;
        height: 163px;
    }

    .empty-cart {
        width: 50vw;
        margin: 0 auto;
        text-align: center;
        font-family: 'Maison Neue';
        font-weight: 300;
    }

    svg {
        max-width: 61%;
        padding: 5rem 3rem;
    }

        svg #oval,
        svg #plus,
        svg #diamond,
        svg #bubble-rounded {
            -webkit-animation: plopp 4s ease-out infinite;
            animation: plopp 4s ease-out infinite;
        }

            svg #oval:nth-child(1),
            svg #plus:nth-child(1),
            svg #diamond:nth-child(1),
            svg #bubble-rounded:nth-child(1) {
                -webkit-animation-delay: -240ms;
                animation-delay: -240ms;
            }

            svg #oval:nth-child(2),
            svg #plus:nth-child(2),
            svg #diamond:nth-child(2),
            svg #bubble-rounded:nth-child(2) {
                -webkit-animation-delay: -480ms;
                animation-delay: -480ms;
            }

            svg #oval:nth-child(3),
            svg #plus:nth-child(3),
            svg #diamond:nth-child(3),
            svg #bubble-rounded:nth-child(3) {
                -webkit-animation-delay: -720ms;
                animation-delay: -720ms;
            }

            svg #oval:nth-child(4),
            svg #plus:nth-child(4),
            svg #diamond:nth-child(4),
            svg #bubble-rounded:nth-child(4) {
                -webkit-animation-delay: -960ms;
                animation-delay: -960ms;
            }

            svg #oval:nth-child(5),
            svg #plus:nth-child(5),
            svg #diamond:nth-child(5),
            svg #bubble-rounded:nth-child(5) {
                -webkit-animation-delay: -1200ms;
                animation-delay: -1200ms;
            }

            svg #oval:nth-child(6),
            svg #plus:nth-child(6),
            svg #diamond:nth-child(6),
            svg #bubble-rounded:nth-child(6) {
                -webkit-animation-delay: -1440ms;
                animation-delay: -1440ms;
            }

            svg #oval:nth-child(7),
            svg #plus:nth-child(7),
            svg #diamond:nth-child(7),
            svg #bubble-rounded:nth-child(7) {
                -webkit-animation-delay: -1680ms;
                animation-delay: -1680ms;
            }

            svg #oval:nth-child(8),
            svg #plus:nth-child(8),
            svg #diamond:nth-child(8),
            svg #bubble-rounded:nth-child(8) {
                -webkit-animation-delay: -1920ms;
                animation-delay: -1920ms;
            }

            svg #oval:nth-child(9),
            svg #plus:nth-child(9),
            svg #diamond:nth-child(9),
            svg #bubble-rounded:nth-child(9) {
                -webkit-animation-delay: -2160ms;
                animation-delay: -2160ms;
            }

            svg #oval:nth-child(10),
            svg #plus:nth-child(10),
            svg #diamond:nth-child(10),
            svg #bubble-rounded:nth-child(10) {
                -webkit-animation-delay: -2400ms;
                animation-delay: -2400ms;
            }

            svg #oval:nth-child(11),
            svg #plus:nth-child(11),
            svg #diamond:nth-child(11),
            svg #bubble-rounded:nth-child(11) {
                -webkit-animation-delay: -2640ms;
                animation-delay: -2640ms;
            }

            svg #oval:nth-child(12),
            svg #plus:nth-child(12),
            svg #diamond:nth-child(12),
            svg #bubble-rounded:nth-child(12) {
                -webkit-animation-delay: -2880ms;
                animation-delay: -2880ms;
            }

            svg #oval:nth-child(13),
            svg #plus:nth-child(13),
            svg #diamond:nth-child(13),
            svg #bubble-rounded:nth-child(13) {
                -webkit-animation-delay: -3120ms;
                animation-delay: -3120ms;
            }

            svg #oval:nth-child(14),
            svg #plus:nth-child(14),
            svg #diamond:nth-child(14),
            svg #bubble-rounded:nth-child(14) {
                -webkit-animation-delay: -3360ms;
                animation-delay: -3360ms;
            }

            svg #oval:nth-child(15),
            svg #plus:nth-child(15),
            svg #diamond:nth-child(15),
            svg #bubble-rounded:nth-child(15) {
                -webkit-animation-delay: -3600ms;
                animation-delay: -3600ms;
            }

            svg #oval:nth-child(16),
            svg #plus:nth-child(16),
            svg #diamond:nth-child(16),
            svg #bubble-rounded:nth-child(16) {
                -webkit-animation-delay: -3840ms;
                animation-delay: -3840ms;
            }

        svg #bg-line:nth-child(2) {
            fill-opacity: 0.3;
        }

        svg #bg-line:nth-child(3) {
            fill-opacity: 0.4;
        }

    h3 {
        font-size: 2rem;
        line-height: 2rem;
        margin: 0;
        padding: 0;
        font-weight: 600;
    }

    p {
        color: rgba(0,0,0,0.5);
        font-size: 18px;
        line-height: 24px;
        max-width: 80%;
        margin: 1.25rem auto 0 auto;
    }

    body {
        background: #f2f2f2;
    }

    @@-webkit-keyframes plopp {
        0% {
            transform: translate(0, 0);
            opacity: 1;
        }

        100% {
            transform: translate(0, -10px);
            opacity: 0;
        }
    }

    @@keyframes plopp {
        0% {
            transform: translate(0, 0);
            opacity: 1;
        }

        100% {
            transform: translate(0, -10px);
            opacity: 0;
        }
    }

    @@media (max-width:768px) {
        .empty-cart {
            width: inherit;
        }

            .empty-cart svg {
                max-width: 68%;
                padding: 0;
                margin: 20px 0px;
            }

        .empty {
            font-size: 30px !important;
            line-height: 35px;
        }

        .blog-post .row {
            display: block !important;
            padding: 0;
            margin: 0;
            margin-bottom: 17px;
        }

        .blog-post .sm-p-0 table td {
            padding: 8px 0 !important;
        }

        .blog-post .theme-btn.pull-right {
            float: left !important;
            text-align: center;
            width: 100%;
        }
    }

    .checkout-content {
        width: 100%;
        padding: 40px 0px;
    }

    .empty {
        color: #47bbbe;
        font-size: 45px;
        font-family: cursive;
        text-align: center;
    }

    .shopNow {
        text-align: center;
    }
    a.theme-btn.pull-right {
        padding: 5px 10px;
        background: #2d3b97;
        color: white;
    }
</style>

@Styles.Render("~/datatables/css", "~/Content/css/bootstrap-switch.css", "~/Scripts/plugins/alertifyjs/css/alertify.min.css")
<link href="~/Scripts/plugins/alertifyjs/css/alertify.min.css" rel="stylesheet" />
<link href="~/Scripts/plugins/alertifyjs/css/alertify.css" rel="stylesheet" />
@if (Model.Count == 0)
{
    <div class="checkout-content">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <h3 class="empty">Your Cart is Empty Now</h3>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12">
                    <div class="no_product_found_box">
                        <div class="empty-cart">


                            <svg viewBox="656 573 264 182" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                <rect id="bg-line" stroke="none" fill-opacity="0.2" fill="#FFE100" fill-rule="evenodd" x="656" y="624" width="206" height="38" rx="19"></rect>
                                <rect id="bg-line" stroke="none" fill-opacity="0.2" fill="#FFE100" fill-rule="evenodd" x="692" y="665" width="192" height="29" rx="14.5"></rect>
                                <rect id="bg-line" stroke="none" fill-opacity="0.2" fill="#FFE100" fill-rule="evenodd" x="678" y="696" width="192" height="33" rx="16.5"></rect>
                                <g id="shopping-bag" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" transform="translate(721.000000, 630.000000)">
                                    <polygon id="Fill-10" fill="#FFA800" points="4 29 120 29 120 0 4 0"></polygon>
                                    <polygon id="Fill-14" fill="#FFE100" points="120 29 120 0 115.75 0 103 12.4285714 115.75 29"></polygon>
                                    <polygon id="Fill-15" fill="#FFE100" points="4 29 4 0 8.25 0 21 12.4285714 8.25 29"></polygon>
                                    <polygon id="Fill-33" fill="#FFA800" points="110 112 121.573723 109.059187 122 29 110 29"></polygon>
                                    <polygon id="Fill-35" fill-opacity="0.5" fill="#FFFFFF" points="2 107.846154 10 112 10 31 2 31"></polygon>
                                    <path d="M107.709596,112 L15.2883462,112 C11.2635,112 8,108.70905 8,104.648275 L8,29 L115,29 L115,104.648275 C115,108.70905 111.7365,112 107.709596,112" id="Fill-36" fill="#FFE100"></path>
                                    <path d="M122,97.4615385 L122,104.230231 C122,108.521154 118.534483,112 114.257931,112 L9.74206897,112 C5.46551724,112 2,108.521154 2,104.230231 L2,58" id="Stroke-4916" stroke="#000000" stroke-width="3" stroke-linecap="round"></path>
                                    <polyline id="Stroke-4917" stroke="#000000" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" points="2 41.5 2 29 122 29 122 79"></polyline>
                                    <path d="M4,50 C4,51.104 3.104,52 2,52 C0.896,52 0,51.104 0,50 C0,48.896 0.896,48 2,48 C3.104,48 4,48.896 4,50" id="Fill-4918" fill="#000000"></path>
                                    <path d="M122,87 L122,89" id="Stroke-4919" stroke="#000000" stroke-width="3" stroke-linecap="round"></path>
                                    <polygon id="Stroke-4922" stroke="#000000" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" points="4 29 120 29 120 0 4 0"></polygon>
                                    <path d="M87,46 L87,58.3333333 C87,71.9 75.75,83 62,83 L62,83 C48.25,83 37,71.9 37,58.3333333 L37,46" id="Stroke-4923" stroke="#000000" stroke-width="3" stroke-linecap="round"></path>
                                    <path d="M31,45 C31,41.686 33.686,39 37,39 C40.314,39 43,41.686 43,45" id="Stroke-4924" stroke="#000000" stroke-width="3" stroke-linecap="round"></path>
                                    <path d="M81,45 C81,41.686 83.686,39 87,39 C90.314,39 93,41.686 93,45" id="Stroke-4925" stroke="#000000" stroke-width="3" stroke-linecap="round"></path>
                                    <path d="M8,0 L20,12" id="Stroke-4928" stroke="#000000" stroke-width="3" stroke-linecap="round"></path>
                                    <path d="M20,12 L8,29" id="Stroke-4929" stroke="#000000" stroke-width="3" stroke-linecap="round"></path>
                                    <path d="M20,12 L20,29" id="Stroke-4930" stroke="#000000" stroke-width="3" stroke-linecap="round"></path>
                                    <path d="M115,0 L103,12" id="Stroke-4931" stroke="#000000" stroke-width="3" stroke-linecap="round"></path>
                                    <path d="M103,12 L115,29" id="Stroke-4932" stroke="#000000" stroke-width="3" stroke-linecap="round"></path>
                                    <path d="M103,12 L103,29" id="Stroke-4933" stroke="#000000" stroke-width="3" stroke-linecap="round"></path>
                                </g>
                                <g id="glow" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" transform="translate(768.000000, 615.000000)">
                                    <rect id="Rectangle-2" fill="#000000" x="14" y="0" width="2" height="9" rx="1"></rect>
                                    <rect fill="#000000" transform="translate(7.601883, 6.142354) rotate(-12.000000) translate(-7.601883, -6.142354) " x="6.60188267" y="3.14235449" width="2" height="6" rx="1"></rect>
                                    <rect fill="#000000" transform="translate(1.540235, 7.782080) rotate(-25.000000) translate(-1.540235, -7.782080) " x="0.54023518" y="6.28207994" width="2" height="3" rx="1"></rect>
                                    <rect fill="#000000" transform="translate(29.540235, 7.782080) scale(-1, 1) rotate(-25.000000) translate(-29.540235, -7.782080) " x="28.5402352" y="6.28207994" width="2" height="3" rx="1"></rect>
                                    <rect fill="#000000" transform="translate(22.601883, 6.142354) scale(-1, 1) rotate(-12.000000) translate(-22.601883, -6.142354) " x="21.6018827" y="3.14235449" width="2" height="6" rx="1"></rect>
                                </g>
                                <polygon id="plus" stroke="none" fill="#7DBFEB" fill-rule="evenodd" points="689.681239 597.614697 689.681239 596 690.771974 596 690.771974 597.614697 692.408077 597.614697 692.408077 598.691161 690.771974 598.691161 690.771974 600.350404 689.681239 600.350404 689.681239 598.691161 688 598.691161 688 597.614697"></polygon>
                                <polygon id="plus" stroke="none" fill="#EEE332" fill-rule="evenodd" points="913.288398 701.226961 913.288398 699 914.773039 699 914.773039 701.226961 917 701.226961 917 702.711602 914.773039 702.711602 914.773039 705 913.288398 705 913.288398 702.711602 911 702.711602 911 701.226961"></polygon>
                                <polygon id="plus" stroke="none" fill="#FFA800" fill-rule="evenodd" points="662.288398 736.226961 662.288398 734 663.773039 734 663.773039 736.226961 666 736.226961 666 737.711602 663.773039 737.711602 663.773039 740 662.288398 740 662.288398 737.711602 660 737.711602 660 736.226961"></polygon>
                                <circle id="oval" stroke="none" fill="#A5D6D3" fill-rule="evenodd" cx="699.5" cy="579.5" r="1.5"></circle>
                                <circle id="oval" stroke="none" fill="#CFC94E" fill-rule="evenodd" cx="712.5" cy="617.5" r="1.5"></circle>
                                <circle id="oval" stroke="none" fill="#8CC8C8" fill-rule="evenodd" cx="692.5" cy="738.5" r="1.5"></circle>
                                <circle id="oval" stroke="none" fill="#3EC08D" fill-rule="evenodd" cx="884.5" cy="657.5" r="1.5"></circle>
                                <circle id="oval" stroke="none" fill="#66739F" fill-rule="evenodd" cx="918.5" cy="681.5" r="1.5"></circle>
                                <circle id="oval" stroke="none" fill="#C48C47" fill-rule="evenodd" cx="903.5" cy="723.5" r="1.5"></circle>
                                <circle id="oval" stroke="none" fill="#A24C65" fill-rule="evenodd" cx="760.5" cy="587.5" r="1.5"></circle>
                                <circle id="oval" stroke="#66739F" stroke-width="2" fill="none" cx="745" cy="603" r="3"></circle>
                                <circle id="oval" stroke="#EFB549" stroke-width="2" fill="none" cx="716" cy="597" r="3"></circle>
                                <circle id="oval" stroke="#FFE100" stroke-width="2" fill="none" cx="681" cy="751" r="3"></circle>
                                <circle id="oval" stroke="#3CBC83" stroke-width="2" fill="none" cx="896" cy="680" r="3"></circle>
                                <polygon id="diamond" stroke="#C46F82" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none" points="886 705 889 708 886 711 883 708"></polygon>
                                <path d="M736,577 C737.65825,577 739,578.34175 739,580 C739,578.34175 740.34175,577 742,577 C740.34175,577 739,575.65825 739,574 C739,575.65825 737.65825,577 736,577 Z" id="bubble-rounded" stroke="#3CBC83" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" fill="none"></path>
                            </svg>
                        </div>
                    </div>
                </div>
                <div class="col-12 shopNow">
                    <a href="@Url.Action("Productlist", "product")" class="theme-btn"><span><i class="fa fa-shopping-cart"></i>&nbsp;Shop Now</span> </a>
                </div>
            </div>
        </div>
    </div>
}
else
{
    <!-- BREADCRUMB -->
    <div id="breadcrumb" class="section">
        <!-- container -->
        <div class="container">
            <!-- row -->
            <div class="row">
                <div class="col-md-12">

                </div>
            </div>
            <!-- /row -->
        </div>
        <!-- /container -->
    </div>
    <!-- /BREADCRUMB -->
    <div class="body-content outer-top-xs">
        <div class="container">
            <div id="ContentPlaceHolder1_up " class="cart_box">
                <div class="row">
                    <div class="col-sm-8" style="margin-bottom: 15px;">
                        <div class="blog-post wow fadeInUp animated" style="visibility: visible; animation-name: fadeInUp;">
                            @Html.Partial("_Notification")

                            @foreach (Itemdto item in (List<Itemdto>)ViewBag.Item)
                            {
                                var s = @SiteKey.ImageLink + @item.ImageUrl;


                                <div class="row sm-p-0" style="display: flex; align-items: center;">
                                    <div class="some @(item.Quantity >0?"":"overlay-out-of-stock")"
                                         id="@("prChek" + item.Id)"></div>


                                    <div class="col-sm-2" id="CheakBOx2">
                                        <center>
                                            <a href="~/Site/ProductDetails/@item.ProductId">
                                                <img src="@s" alt="@item.ProductName" class="img-responsive" style="max-height: 100px;">
                                            </a>
                                        </center>
                                        <span id="ContentPlaceHolder1_rep1_lblrowid_0" style="color:White;">0</span>
                                    </div>
                                    <div id="CheakBOx" class="col-sm-1">

                                        @if (item.Quantity > 0)
                                        {
                                            @*<input type="checkbox" onchange="getcheckboxId(@item.Id,@item.CheakStatus)" id="ChbId" checked />*@
                                        }
                                        else
                                        {
                                            <p style="color:red">Out Of Stock</p>
                                            @*<input type="checkbox" onchange="getcheckboxId(@item.Id,@item.CheakStatus)" id="ChbId1" />*@
                                        }


                                    </div>
                                    <div class="col-sm-9">
                                        <table style="width: 100%; text-align: left;">
                                            <tbody>
                                                <tr>
                                                    <td>
                                                        <div class="div3">
                                                            <a href="~/Site/ProductDetails/@item.ProductId">
                                                                @item.ProductName

                                                            </a>
                                                        </div>
                                                    </td>
                                                </tr>

                                                <tr>
                                                    <td>
                                                        <table style="width: 100%; text-align: left;">
                                                            <tbody>
                                                                <tr id="LOadTr">
                                                                    <td style="padding: 0px;">
                                                                        <span class="div3"><span></span></span>
                                                                    </td>
                                                                    <td style="padding-left: 15px; text-align: right; padding: 15px;">
                                                                        <button onclick="ViewDecreaseQty1(@item.ProductId,'#prInput' +@item.Id)"><i class="fa fa-minus"></i></button>
                                                                        <input type="text" id="@("prInput" + item.Id)" class="input-text qty text prizeLoder" step="1" min="0" max="40" readonly="readonly" style=" width: 31px; text-align: center; background: #777777; border: 0; color: #fff; padding: 6px 10px; border-radius: 7px;" value="@item.Quantity" title="Qty" size="4" inputmode="numeric" aria-labelledby="Tablet Thin EliteBook  Revolve 810 G6 quantity">

                                                                        <button onclick="ViewQuntityIncresss(@item.ProductId, '#prInput' +@item.Id)"><i class="fa fa-plus"></i></button>
                                                                    </td>

                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            }
                            <div class="row">
                                <a href="@Url.Action("ProductList","Product")" class="theme-btn pull-right"><span>Continue Shopping</span></a>

                            </div>
                        </div>
                    </div>
                    <div class="col-sm-4 text-center" id="products">
                        @{
                            var FilterProduct = Model;
                            Html.RenderPartial("_ProductDetailsTable", FilterProduct);
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>

}
<script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/11.4.33/sweetalert2.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/11.4.33/sweetalert2.all.min.js"></script>
<script src="~/Scripts/plugins/alertifyjs/alertify.min.js"></script>
@section scripts{
    @Scripts.Render("~/Scripts/plugins/alertifyjs/alertify.min.js")
}
<style>
    .modalBackground {
        background-color: Black;
        filter: alpha(opacity=90);
        opacity: 0.8;
    }

    .modalPopup {
        max-width: 600px;
        min-width: 300px;
        min-height: 140px;
    }

    .styles {
        background-color: white;
        border: 1px solid #e8e8e8;
    }
</style>
<style>
    .required {
        color: #ff0000;
    }

    .table, td, th {
        padding: 8px;
    }

    .div3 {
        font-size: 14px;
    }

    .section-title {
        font-size: 22px;
    }

    .pricedetail {
        font-size: 20px;
        padding: 10px 15px;
        background: #2d3b97;
        color: #fff;
    }

    @@media only screen and (max-width: 600px) {

        .div3 {
            font-size: 12px;
        }

        .pricedetail {
            font-size: 18px;
            border-bottom: 1px solid #ddd;
            padding-bottom: 10px;
        }

        .btnx {
            padding: 5px 9px;
            font-size: 10px !important;
            font-weight: normal;
            border-radius: 90px;
        }
    }
</style>

<script type="text/javascript">
    var callTimeOut;
    $(document).ready(function () {
        debugger;
        var pid = $("#ChbId1").closest('div').closest('div').attr("id");
    });
    var idty = 0;
    var tyu = 0;
    var pidty = 0;
    var ptyu = 0;
    function getcheckboxId(CartsId, Status) {

        var CartID = CartsId;
        var CheakStatus = Status;
        $.ajax({
            type: "POST",
            url: '/Site/ChangeCheakbox',
            data: '{ CartIds: ' + CartID + ', CheakedStatus: ' + CheakStatus + '}',
            contentType: "application/json; charset=utf-8",
            dataType: "text",
            success: function (data) {
                $("#products").html(data)

            }
        });
    }
    function getproceed(amount) {
        debugger;
        if (amount == 0) {
            alert("Please Select anyone checkbox");
        }
        else {
            verifys(amount);
        }
    }
    function verifys(amt) {
        debugger;
        const swalWithBootstrapButtons = Swal.mixin({
            customClass: {
                confirmButton: 'btn btn-success',
                cancelButton: 'btn btn-danger'
            },
            buttonsStyling: false
        })
        swalWithBootstrapButtons.fire({
            title: 'Are you sure?',
            text: "You Purchase this wowcher!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonText: 'Yes, Purchase it!!',
            cancelButtonText: 'No, cancel!',
            reverseButtons: true
        }).then((result) => {
            if (result.isConfirmed) {
                Orderwowcher();
            }
            else if (
                result.dismiss === Swal.DismissReason.cancel
            ) {
                ErrorAlert('Purchase wowcher Cancelled by User!!');
            }
        })
    }
    function Orderwowcher() {
        $.ajax({
            type: "POST",
            url: '/Product/Ordervoucher',
            contentType: "application/json; charset=utf-8",
            dataType: "text",
            success: function (data) {
                debugger;
                if (data == 1) {
                    Thanks();
                }
                else if (data == 2) {
                    alertify.error("something went wrong order not Create");

                }
                else if (data == 3) {
                    alertify.error("Insufficient Balance");
                }
                else {
                    window.location.href = '/Product/ViewCart'
                }
            }

        });
    }
    function Thanks() {
        debugger;
        const swalWithBootstrapButtons = Swal.mixin({
            customClass: {
                confirmButton: 'btn btn-success'
            },
            buttonsStyling: false
        })
        swalWithBootstrapButtons.fire({
            title: 'Thanks For Order',
            text: "Order successfully !",
            icon: 'success',
            confirmButtonText: 'Ok!!',
            reverseButtons: true
        }).then((result) => {
            if (result.isConfirmed) {
                window.location.href = '/Product/productlist'
            }
         
        })
    }
    function ViewDecreaseQty1(id, itemId) {

        idty = id;
        tyu = itemId;
        clearTimeout(callTimeOut);
        debugger;
        callTimeOut = setTimeout(ViewQuntityDecrese(), 1000);

    }
    function ViewQuntityIncresss(id, itemId) {
        debugger
        pidty = id;
        ptyu = itemId;
        clearTimeout(callTimeOut);
        callTimeOut = setTimeout(QuantityIncrease(), 1000);

    }
    function ViewQuntityDecrese() {
        debugger
        var CartID = idty;
        var quantity = $(tyu).val();
        $.ajax({
            type: "POST",
            url: '/Product/ViewDecreaseQty',
            data: '{ Id: ' + CartID + '}',
            contentType: "application/json; charset=utf-8",
            dataType: "text",
            success: function (data) {
                if (data == 1) {
                    alertify.error("cannot Minimize from the Minimum Quanity");
                }
                else if (data == 2) {
                    window.location.reload();
                }
                else {
                    var NewQuantity = quantity - 1;
                    $(tyu).val(NewQuantity);
                    $("#products").html(data);
                    alertify.success("Cart Updated");
                }
            }

        });

    }
    function QuantityIncrease() {
        var CrtID = pidty;
        var Quan = $(ptyu).val();
        debugger;
        $.ajax({
            type: "POST",
            url: '/Product/VAddToCart',
            data: '{ Id: ' + CrtID + '}',
            contentType: "application/json; charset=utf-8",
            dataType: "text",
            success: function (data) {
                debugger;
                if (data == 1) {
                    alertify.error("Cannot Add quantity from the StockQuantity");
                   
                }
                else {
                    var NewQuantity = +Quan + 1;
                    $(ptyu).val(NewQuantity);

                    $("#products").html(data);
                    alertify.success("Cart Updated");
                }
            }
        });
    }

    //function DecreaseQauntity(id) {
    //    var CrtID = id;

    //    $.ajax({
    //        type: "POST",
    //        url: '/Site/ProductRemove',
    //        data: '{ CartId: ' + CrtID + '}',
    //        contentType: "application/json; charset=utf-8",
    //        dataType: "text",
    //        success: function (data) {
    //            $("#products").html(data);
    //        }
    //    });

    //}

    //$("#btnCheakOut").click(function () {
    //
    //    if ($("input[type=checkbox]").is(
    //        ":Unchecked")) {
    //        alert("Please Select anyone checkbox");
    //    }
    //});
</script>